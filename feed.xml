<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.2">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2022-06-12T02:41:16+00:00</updated><id>/feed.xml</id><title type="html">GeoServer</title><subtitle>GeoServer latest posts</subtitle><author><name>GeoServer community</name></author><entry><title type="html">GeoServer 2.21.0 Release</title><link href="/announcements/2022/05/24/geoserver-2-21-0-released.html" rel="alternate" type="text/html" title="GeoServer 2.21.0 Release" /><published>2022-05-24T00:00:00+00:00</published><updated>2022-05-24T00:00:00+00:00</updated><id>/announcements/2022/05/24/geoserver-2-21-0-released</id><content type="html" xml:base="/announcements/2022/05/24/geoserver-2-21-0-released.html"><![CDATA[<p>GeoServer <a href="/release/2.21.0/">2.21.0</a> release is now available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.0/geoserver-2.21.0-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.0/geoserver-2.21.0-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.0/GeoServer-2.21.0-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.0/geoserver-2.21.0-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.0/extensions/">extensions</a>.</p>

<p>This is a first release of the new stable branch of GeoServer and is made in conjunction with GeoTools 27.0 
and GeoWebCache 1.21.0.</p>

<ul>
  <li>GeoServer now supports Java 17! This is likely to be the last release that supports Java 8 and we encourage
users to start to make the transition to Java 11 during the lifetime of this branch.</li>
  <li>Thanks to everyone who help tested the release candidate on and off list: Daniel Calliess, Georg Weickelt, 
Stefan Overkamp,  Nicolas Matzick, Sander Schaminee, Jose Garcia, Rosa Briones, Jody Garnett, Andrea Aime, 
Ian Turton.</li>
</ul>

<p>Thanks to Ian Turton, Astun Technology, for making this release.</p>

<h3 id="feature-type-customization">Feature Type Customization</h3>

<p>We are pleased to share a long-requested feature - the ability to rename attributes and change attribute order when publishing a FeatureType.</p>

<p><img src="/img/posts/2.21/feature_type_remap.png" alt="Feature type customization" /> <br /></p>

<p>It is also possible to change attribute type, and with the use of ECQL expressions generate new attributes on the fly.</p>

<p>The above example works around the limitations of shapefile to use longer names, and creates a new attribute <code class="language-plaintext highlighter-rouge">capital</code> on the fly from an expression, as shown in the following GetFeatureInfo output.</p>

<p><img src="/img/posts/2.21/tasmania_feature_type.png" alt="GetFeatureInfo tasmania_cities" /> <br /></p>

<p>This is a great new addition to GeoServer, please see <a href="https://docs.geoserver.org/latest/en/user/data/webadmin/layers.html#feature-type-details-vector">Feture Type Details</a> in the user guide for details.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10356">GEOS-10356</a> Allow feature type customization</li>
</ul>

<p>Thanks to Andrea Aime (GeoSolutions) for proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-207">GSIP-207</a> and implementation, and Canton of Solothurn for funding the work.</p>

<h3 id="translations-and-language-chooser">Translations and Language Chooser</h3>

<p>A big thanks to Alexandre Gacon and everyone who helped improve GeoServer internationalization for during this release cycle.</p>

<p>To support this activity Andrea Aime has contributed a language chooser to the top of the screen (near the login button).</p>

<p><img src="/img/posts/2.21/language.png" alt="Language chooser" /><br /></p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/webadmin/index.html#choosing-the-ui-language">Choosing the UI language</a> (User Guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-1158">GEOS-1158</a> Specify Geoserver UI Language in Configuration</li>
</ul>

<h3 id="add-styles-support-to-layergroup">Add Styles support to LayerGroup</h3>

<p>Layer groups can now be configured with additional styles, with each style listing a series of layers along with the style used to render each layer.</p>

<p><img src="/img/posts/2.21/layer_group_styles.png" alt="Layer group styles" /> <br /></p>

<p>This allows a <code class="language-plaintext highlighter-rouge">SINGLE</code> or <code class="language-plaintext highlighter-rouge">OPAQUE</code> layer group to list alternate styles in addition to the default one. Each alternate style is defined by a named configuration of layers and styles providing a unique visual representation.</p>

<p>In the above example the layer group Tasmania is setup with an alternate “data” presentation, presenting the content with the geoserver default styles <code class="language-plaintext highlighter-rouge">point</code>, <code class="language-plaintext highlighter-rouge">line</code> and <code class="language-plaintext highlighter-rouge">polygon</code>.</p>

<p><img src="/img/posts/2.21/layer_group_tas.png" alt="Layer group style Tasmania" /> <br /></p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/data/webadmin/layergroups.html#layer-group-styles">Layer Group Styles</a> (User Guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10252">GEOS-10252</a> Add Styles support to LayerGroup</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10274">GEOS-10274</a> Geofence follow up LayerGroup Style addition</li>
</ul>

<p>Thanks to Marco Volpini (GeoSolutions) for <a href="https://github.com/geoserver/geoserver/wiki/GSIP-205">GSIP-205</a> proposal and implementation, and the Swedish Agency for Marine and Water Management for sponsoring this new functionality.</p>

<h3 id="geopackage-wms-and-wfs-output">GeoPackage WMS and WFS Output</h3>

<p>The result of proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-206">GSIP-206</a> is the creation of the gs-geopkg-output extension packaging up the WFS and WMS output formats from the geopackage community module.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl "http://localhost:8080/geoserver/wfs?service=wfs&amp;version=2.0.0&amp;request=GetFeature&amp;typeNames=topp:states&amp;outputFormat=geopkg" -o wfs.gpkg
</code></pre></div></div>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/extensions/geopkg-output/usage.html">Using the GeoPackage Output Extension</a> in the user guide.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10351">GEOS-10351</a> [GSIP 206] Promote GeoPackage WFS and WMS output formats to an extension</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-8793">GEOS-8793</a> WFS 1.1.0/2.0.0 GeoPackage output wrong Coordinate Order</li>
</ul>

<p>Thanks to David Blasby and Jody Garnett (GeoCat) for packaging up this work as an extension. This work was 
supported in part by Rijkswaterstaat.</p>

<h3 id="mark-factory-precedence">Mark Factory Precedence</h3>

<p>When rendering maps with lots of individual graphics, looking up the correct implementation (known as a MarkFactory) can be time consuming.</p>

<p>WMS Settings have new capability to filter out any mark factories not being used, and provide an order to prioritise the ones being used.</p>

<p><img src="/img/posts/2.21/markfactory.png" alt="MarkFactory precedence" /><br /></p>

<p>For more information see <a href="https://docs.geoserver.org/stable/en/user/services/wms/webadmin.html#mark-factory-precedence">WMS Web Administration</a> (user guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10230">GEOS-10230</a> MarkFactory WMS rendering performance optimization</li>
</ul>

<p>Thanks to Fernando Mino (GeoSolutions Group) for troubleshooting this performance issue, and proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-204">GSIP-204</a> as an optimization. Thanks to EMSA for sponsoring the improvement.</p>

<h3 id="log4j-2-upgrade">Log4J 2 Upgrade</h3>

<p>The assessment of <a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4Shell</a> vulnerability highlighted that although GeoSever was not affected, our use of the older Log4j 1.2 was a notable risk. This discussion resulted a <a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">small fundraising effort</a> and proposal to <a href="https://github.com/geoserver/geoserver/wiki/GSIP-167">upgrade to Log4j 2</a>.</p>

<p>The result is a small change to the user interface, listing logging profiles by name (previously the file extension was also listed).</p>

<p><img src="/img/posts/2.21/logging.png" alt="Log4j update" /><br /></p>

<p>Internally this release changes from Log4j 1.2 logging profiles (using <code class="language-plaintext highlighter-rouge">properties</code> extension) to Log4j 2 logging profiles (using <code class="language-plaintext highlighter-rouge">xml</code> extension):</p>

<ul>
  <li>
    <p>The built-in logging profiles (<code class="language-plaintext highlighter-rouge">DEFAULT_LOGGING</code>, <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING</code>, …) are replaced with new Log4j 2 <code class="language-plaintext highlighter-rouge">xml</code> files.</p>
  </li>
  <li>
    <p>Previous custom logging profiles will continue to be available (Log4J 2 has the ability to read the older Log4J 1.2 properties files).</p>
  </li>
  <li>
    <p>If you made any customizations to the built-in profiles, you can recover your changes from backup <code class="language-plaintext highlighter-rouge">bak</code> file. You can use this backup as a reference when creating a new <code class="language-plaintext highlighter-rouge">xml</code> logging profile, or restore this under a different name which does not conflict with the built-in logging profiles.</p>

    <p>A customization to <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties</code> will be backed up to <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties.bak</code>. This can be restored by renaming <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties.bak</code> to <code class="language-plaintext highlighter-rouge">CUSTOM_LOGGING.properties</code>.</p>
  </li>
</ul>

<p>In addition to the <code class="language-plaintext highlighter-rouge">INFO</code> status messages, you will notice a new <code class="language-plaintext highlighter-rouge">CONFIG</code> logging level used during application startup:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CONFIG [org.geoserver] - GeoServer configuration lock is enabled
CONFIG [org.geoserver] - Loading catalog...
...
</code></pre></div></div>

<p>For more information, and examples of writing a Log4J 2 profile, see <a href="https://docs.geoserver.org/latest/en/user/configuration/globalsettings.html#logging-settings">Logging Settings</a> and <a href="https://docs.geoserver.org/latest/en/user/configuration/logging.html">Advanced log configuration</a> in the User Guide.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10426">GEOS-10426</a> GSIP 167: Upgrade Log4j</li>
</ul>

<p>Thanks to Jody Garnett (GeoCat) for completing this work, and to the following sponsors for supporting this activity.</p>

<ul>
  <li><a href="https://opengeogroep.nl/">opengeogroep.nl</a></li>
  <li><a href="https://www.terrestris.de/en/">www.terrestris.de</a></li>
  <li><a href="http://how2map.com">how2map.com</a></li>
  <li><a href="https://www.geonovation.nl/">www.geonovation.nl</a></li>
</ul>

<h3 id="logging-rest-api">Logging REST API</h3>

<p>For more information please see <a href="https://docs.geoserver.org/latest/en/user/rest/api/logging.html">Logging settings</a> (User Guide) and <a href="https://docs.geoserver.org/latest/en/api/#1.0.0/logging.yaml">GeoServer Logging</a> (REST API).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10368">GEOS-10368</a> Logging Controller Addition allows configuration of logging via REST API.</li>
</ul>

<p>Thanks to Yalın Eren Deliorman (GeoSolutions) for this contribution, and Eumetsat for sponsoring the work.</p>

<h3 id="new-wps-settings-and-kml-inputoutput-support">New WPS settings and KML input/output support</h3>

<p>A number of improvements have been made to the WPS service:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10443">GEOS-10443</a> Graduate kml-ppio community module to wps extension. Thanks to GeoSolutions for taking the maintainership of the module, and Masego Inc. for sponsoring the graduation work.</p>

    <p>KML can now be used with WPS service for both input and output parameters.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10391">GEOS-10391</a> Add external output directory setting to limit where processes can write</p>

    <p>See WPS setting for <a href="https://docs.geoserver.org/latest/en/user/services/wps/administration.html#execution-and-resource-management-options">external output directory</a> in User Guide.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10431">GEOS-10431</a> Add WPS setting to disable remote complex inputs.</p>

    <p>See <a href="https://docs.geoserver.org/main/en/user/services/wps/security.html#complex-inputs">WPS Security and input limits</a> in the User Guide.</p>
  </li>
</ul>

<p>Thanks to the GeoNode project for these WPS improvements.</p>
<h3 id="gdal-3x-compatibility">GDAL 3.x Compatibility</h3>

<p>The gdal-output extension is tested against GDAL 3.x series.</p>

<p>Please pay careful attention to the installation instructions, while the extensions includes <code class="language-plaintext highlighter-rouge">gdal-3.2.0.jar</code> you should double check the native binaries (included in your Linux distribution or installed by hand) and download an appropriate <a href="https://search.maven.org/artifact/org.gdal/gdal">replacement jar online</a>.</p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/data/raster/gdal.html#installing-gdal-native-libraries">Installing GDAL native libraries</a> in the User Guide.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10402">GEOS-10402</a> Upgrade imageio-ext to 1.4.0 (tested with gdal 3.2)</li>
</ul>

<p>Thanks to Andrea Aime (GeoSolutions) for making the ImageIO-EXT release, and Jody Garnett (GeoCat) for GDAL 
3.x upgrade and testing. This work was supported in part by Rijkswaterstaat.</p>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<p>New features:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10228">GEOS-10228</a> Add wrap_limit property to wrap the category text values of a legend</li>
</ul>

<p>Improvements:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10146">GEOS-10146</a> App-schema: support for multiple geometries with different CRS</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10246">GEOS-10246</a> jdbcconfig: performance slow-down from unnecessary transactions</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10251">GEOS-10251</a> Refactor MapML vocabulary to map- custom elements HTML namespace</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10463">GEOS-10463</a> Support WCS default value for Deflate Compression</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10320">GEOS-10320</a> Support GetFeatureInfo on raster layers with transformations turning the output into vector</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10405">GEOS-10405</a> GetFeatureInfo: Support multiple featureCollections per query layer</li>
</ul>

<p>Fixes:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10226">GEOS-10226</a> ResourcePool leaves empty files on failure</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10318">GEOS-10318</a> CSV output format for complex features doesn’t resolve namespace URIs to prefixes on attributes names</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10235">GEOS-10235</a> Prevent double-quote to be specified as CSV separator</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10477">GEOS-10477</a> SLD - Validation error on Normalize-node</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10448">GEOS-10448</a> GetTimeSeries does not limit number of dates when using a time range request (without period)</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10429">GEOS-10429</a> Style validation error using the VendorOption “graphic-margin”</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10318">GEOS-10318</a> CSV output format for complex features doesn’t resolve namespace URIs to prefixes on attributes names</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10502">GEOS-10502</a> GML3 output is not pretty printed when pretty print is turned on in global settings.</li>
</ul>

<p>Tasks:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10458">GEOS-10458</a> Update jai-ext to 1.1.22</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10446">GEOS-10446</a> Upgrade to commons-codec 1.15 version</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10363">GEOS-10363</a> Switch from itextpdf to openpdf for PDF map rendering</li>
</ul>

<h2 id="about-geoserver-221">About GeoServer 2.21</h2>

<p>Additional information on GeoServer 2.21 series:</p>

<ul>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-207">Feature Type Customization</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-205">Add Styles support to LayerGroup</a></li>
  <li><a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">Log4j1 update or replace activity</a></li>
</ul>

<p>Release notes: ( <a href="https://github.com/geoserver/geoserver/releases/tag/2.21.0">2.21.0</a>, 
<a href="https://github.com/geoserver/geoserver/releases/tag/2.21-RC">2.21-RC</a>  )</p>]]></content><author><name>Ian Turton</name></author><category term="Announcements" /><category term="Release" /><summary type="html"><![CDATA[GeoServer 2.21.0 release is now available with downloads (bin, war, windows), along with docs and extensions.]]></summary></entry><entry><title type="html">GeoServer 2.21-RC Release Candidate</title><link href="/announcements/2022/05/09/geoserver-2-21-RC-released.html" rel="alternate" type="text/html" title="GeoServer 2.21-RC Release Candidate" /><published>2022-05-09T00:00:00+00:00</published><updated>2022-05-09T00:00:00+00:00</updated><id>/announcements/2022/05/09/geoserver-2-21-RC-released</id><content type="html" xml:base="/announcements/2022/05/09/geoserver-2-21-RC-released.html"><![CDATA[<p>GeoServer <a href="/release/2.21-RC/">2.21-RC</a> release is now available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21-RC/geoserver-2.21-RC-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21-RC/geoserver-2.21-RC-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21-RC/GeoServer-2.21-RC-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21-RC/geoserver-2.21-RC-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21-RC/extensions/">extensions</a>.</p>

<p>This is a GeoServer release candidate made in conjunction with GeoTools 27-RC and GeoWebCache 1.21-RC.</p>

<ul>
  <li>Release candidates are a community building exercise and are not intended for production use.</li>
  <li>We ask the community (everyone: individuals, organizations, service providers) to download and thoroughly test this release candidate and report back.</li>
  <li>Testing priority is the new internationalization support</li>
  <li>Participating in testing release candidates is a key expectation of our <a href="http://www.ianturton.com/talks/foss4g.html#/">open source social contract</a>. We make an effort to thank each person who tests in our release announcement and project presentations!</li>
  <li>GeoServer <a href="http://geoserver.org/support/">commercial service providers</a> are fully expected to test on behalf of their customers.</li>
</ul>

<h3 id="release-candidate-testing-priorities">Release Candidate Testing Priorities</h3>

<p>We would like to ask for your assistance testing the following:</p>

<ul>
  <li>
    <p>Try out the new language chooser, and if you spot any translations you can help out with we would love your <a href="https://docs.geoserver.org/latest/en/developer/translation.html">assistance translating geoserver</a>.</p>
  </li>
  <li>
    <p>The ability to customize feature types allows for a lot of creativity, please try this out and share your examples</p>
  </li>
  <li>
    <p>This release features a new Log4J logging system. If you only choose between the built-in logging profiles we expect everything to be smooth an uneventful.</p>

    <p>If you have made any custom logging profiles, or customized the built-in logging profiles in place, some additional care is required (see below). We are very interested in this upgrade process and ask for your feedback and testing at this time.</p>
  </li>
  <li>
    <p>For those using GDAL or OGR please check the instructions below on upgrading to GDAL 3.</p>
  </li>
</ul>

<p>A reminder that open-source is a community activity and we ask everyone to take part at this time.</p>

<h3 id="feature-type-customization">Feature Type Customization</h3>

<p>We are pleased to share a long-requested feature - the ability to rename attributes and change attribute order when publishing a FeatureType.</p>

<p><img src="/img/posts/2.21/feature_type_remap.png" alt="Feature type customization" /> <br /></p>

<p>It is also possible to change attribute type, and with the use of ECQL expressions generate new attributes on the fly.</p>

<p>The above example works around the limitations of shapefile to use longer names, and creates a new attribute <code class="language-plaintext highlighter-rouge">capital</code> on the fly from an expression, as shown in the following GetFeatureInfo output.</p>

<p><img src="/img/posts/2.21/tasmania_feature_type.png" alt="GetFeatureInfo tasmania_cities" /> <br /></p>

<p>This is a great new addition to GeoServer, please see <a href="https://docs.geoserver.org/latest/en/user/data/webadmin/layers.html#feature-type-details-vector">Feture Type Details</a> in the user guide for details.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10356">GEOS-10356</a> Allow feature type customization</li>
</ul>

<p>Thanks to Andrea Aime (GeoSolutions) for proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-207">GSIP-207</a> and implementation.</p>

<h3 id="translations-and-language-chooser">Translations and Language Chooser</h3>

<p>A big thanks to Alexandre Gacon and everyone who helped improve GeoServer internationalization for during this release cycle.</p>

<p>To support this activity Andrea Aime has contributed a language chooser to the top of the screen (near the login button).</p>

<p><img src="/img/posts/2.21/language.png" alt="Language chooser" /><br /></p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/webadmin/index.html#choosing-the-ui-language">Choosing the UI language</a> (User Guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-1158">GEOS-1158</a> Specify Geoserver UI Language in Configuration</li>
</ul>

<h3 id="add-styles-support-to-layergroup">Add Styles support to LayerGroup</h3>

<p>Layer groups can now be configured with additional styles, with each style listing a series of layers along with the style used to render each layer.</p>

<p><img src="/img/posts/2.21/layer_group_styles.png" alt="Layer group styles" /> <br /></p>

<p>This allows a <code class="language-plaintext highlighter-rouge">SINGLE</code> or <code class="language-plaintext highlighter-rouge">OPAQUE</code> layer group to list alternate styles in addition to the default one. Each alternate style is defined by a named configuration of layers and styles providing a unique visual representation.</p>

<p>In the above example the layer group Tasmania is setup with an alternate “data” presentation, presenting the content with the geoserver default styles <code class="language-plaintext highlighter-rouge">point</code>, <code class="language-plaintext highlighter-rouge">line</code> and <code class="language-plaintext highlighter-rouge">polygon</code>.</p>

<p><img src="/img/posts/2.21/layer_group_tas.png" alt="Layer group style Tasmania" /> <br /></p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/data/webadmin/layergroups.html#layer-group-styles">Layer Group Styles</a> (User Guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10252">GEOS-10252</a> Add Styles support to LayerGroup</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10274">GEOS-10274</a> Geofence follow up LayerGroup Style addition</li>
</ul>

<p>Thanks to Marco Volpini (GeoSolutions) for <a href="https://github.com/geoserver/geoserver/wiki/GSIP-205">GSIP-205</a> proposal and implementation.</p>

<h3 id="geopackage-wms-and-wfs-output">GeoPackage WMS and WFS Output</h3>

<p>The result of proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-206">GSIP-206</a> is the creation of the gs-geopkg-output extension packaging up the WFS and WMS output formats from the geopackage community module.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl "http://localhost:8080/geoserver/wfs?service=wfs&amp;version=2.0.0&amp;request=GetFeature&amp;typeNames=topp:states&amp;outputFormat=geopkg" -o wfs.gpkg
</code></pre></div></div>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/extensions/geopkg-output/usage.html">Using the GeoPackage Output Extension</a> in the user guide.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10351">GEOS-10351</a> [GSIP 206] Promote GeoPackage WFS and WMS output formats to an extension</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-8793">GEOS-8793</a> WFS 1.1.0/2.0.0 GeoPackage output wrong Coordinate Order</li>
</ul>

<p>Thanks to David Blasby and Jody Garnett (GeoCat) for packaging up this work as an extension.</p>

<h3 id="mark-factory-precedence">Mark Factory Precedence</h3>

<p>When rendering maps with lots of individual graphics, looking up the correct implementation (known as a MarkFactory) can be time consuming.</p>

<p>WMS Settings have new capability to filter out any mark factories not being used, and provide an order to prioritise the ones being used.</p>

<p><img src="/img/posts/2.21/markfactory.png" alt="MarkFactory precedence" /><br /></p>

<p>For more information see <a href="https://docs.geoserver.org/stable/en/user/services/wms/webadmin.html#mark-factory-precedence">WMS Web Administration</a> (user guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10230">GEOS-10230</a> MarkFactory WMS rendering performance optimization</li>
</ul>

<p>Thanks to Fernando Mino (GeoSolutions Group) for troubleshooting this performance issue, and proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-204">GSIP-205</a> as an optimization.</p>

<h3 id="log4j-2-upgrade">Log4J 2 Upgrade</h3>

<p>The assessment of <a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4Shell</a> vulnerability highlighted that although GeoSever was not affected, our use of the older Log4j 1.2 was a notable risk. This discussion resulted a <a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">small fundraising effort</a> and proposal to <a href="https://github.com/geoserver/geoserver/wiki/GSIP-167">upgrade to Log4j 2</a>.</p>

<p>The result is a small change to the user interface, listing logging profiles by name (previously the file extension was also listed).</p>

<p><img src="/img/posts/2.21/logging.png" alt="Log4j update" /><br /></p>

<p>Internally this release replaces changes from Log4j 1.2 logging profiles (using <code class="language-plaintext highlighter-rouge">properties</code> extension) to Log4j 2 logging profiles (using <code class="language-plaintext highlighter-rouge">xml</code> extension):</p>

<ul>
  <li>
    <p>The built-in logging profiles (<code class="language-plaintext highlighter-rouge">DEFAULT_LOGGING</code>, <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING</code>, …) are replaced with new Log4j 2 <code class="language-plaintext highlighter-rouge">xml</code> files.</p>
  </li>
  <li>
    <p>Previous custom logging profiles will continue to be available (Log4J 2 has the ability to read the older Log4J 1.2 properties files).</p>
  </li>
  <li>
    <p>If you made any customizations to the built-in profiles, you can recover your changes from backup <code class="language-plaintext highlighter-rouge">bak</code> file. You can use this backup as a reference when creating a new <code class="language-plaintext highlighter-rouge">xml</code> logging profile, or restore this under a different name which does not conflict with the built-in logging profiles.</p>

    <p>A customization to <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties</code> will be backed up to <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties.bak</code>. This can be restored by renaming <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties.bak</code> to <code class="language-plaintext highlighter-rouge">CUSTOM_LOGGING.properties</code>.</p>
  </li>
</ul>

<p>In addition to the <code class="language-plaintext highlighter-rouge">INFO</code> status messages, you will notice a new <code class="language-plaintext highlighter-rouge">CONFIG</code> logging level used during application startup:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CONFIG [org.geoserver] - GeoServer configuration lock is enabled
CONFIG [org.geoserver] - Loading catalog...
...
</code></pre></div></div>

<p>For more information, and examples of writing on log4J 2 profile, see <a href="https://docs.geoserver.org/latest/en/user/configuration/globalsettings.html#logging-settings">Logging Settings</a> and <a href="https://docs.geoserver.org/latest/en/user/configuration/logging.html">Advanced log configuration</a> in the User Guide. Of note is the introduction of a new <code class="language-plaintext highlighter-rouge">CONFIG</code> logging level used loading and saving configuration changes.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10426">GEOS-10426</a> GISP 167: Upgrade Log4j</li>
</ul>

<p>Thanks to Jody Garnett (GeoCat) for completing this work, and to the following sponsors for supporting this activity.</p>

<ul>
  <li><a href="https://opengeogroep.nl/">opengeogroep.nl</a></li>
  <li><a href="https://www.terrestris.de/en/">www.terrestris.de</a></li>
  <li><a href="http://how2map.com">how2map.com</a></li>
  <li><a href="https://www.geonovation.nl/">www.geonovation.nl</a></li>
</ul>

<h3 id="logging-rest-api">Logging REST API</h3>

<p>For more information please see <a href="https://docs.geoserver.org/latest/en/user/rest/api/logging.html">Logging settings</a> (User Guide) and <a href="https://docs.geoserver.org/latest/en/api/#1.0.0/logging.yaml">GeoServer Logging</a> (REST API).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10368">GEOS-10368</a> Logging Controller Addition allows configuration of logging via REST API.</li>
</ul>

<p>Thanks to Yalın Eren Deliorman for this contribution.</p>

<h3 id="new-wps-settings-and-kml-inputoutput-support">New WPS settings and KML input/output support</h3>

<p>A number of improvements have been made to the WPS service:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10443">GEOS-10443</a> Graduate kml-ppio community module to wps extension</p>

    <p>KML can now be used with WPS service for both input and output parameters.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10391">GEOS-10391</a> Add external output directory setting to limit where processes can write</p>

    <p>See WPS setting for <a href="https://docs.geoserver.org/latest/en/user/services/wps/administration.html#execution-and-resource-management-options">external output directory</a> in User Guide.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10431">GEOS-10431</a> Add WPS setting to disable remote complex inputs.</p>

    <p>See <a href="https://docs.geoserver.org/main/en/user/services/wps/security.html#complex-inputs">WPS Security and input limits</a> in User Guide.</p>
  </li>
</ul>

<h3 id="gdal-3x-compatibility">GDAL 3.x Compatibility</h3>

<p>The gdal-output extension is tested against GDAL 3.x series.</p>

<p>Please pay careful attention to the installation instructions, while the extensions includes <code class="language-plaintext highlighter-rouge">gdal-3.2.0.jar</code> you should double check the native binaries (included in your Linux distribution or installed by hand) and download an appropriate <a href="https://search.maven.org/artifact/org.gdal/gdal">replacement jar online</a>.</p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/data/raster/gdal.html#installing-gdal-native-libraries">Installing GDAL native libraries</a> in the User Guide.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10402">GEOS-10402</a> Upgrade imageio-ext to 1.4.0 (tested with gdal 3.2)</li>
</ul>

<p>Thanks to Andrea Aime (GeoSolutions) for making the ImageIO-EXT release, and Jody Garnett (GeoCat) for GDAL 3.x upgrade and testing.</p>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<p>New features:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10228">GEOS-10228</a> Add wrap_limit property to wrap the category text values of a legend</li>
</ul>

<p>Improvements:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10146">GEOS-10146</a> App-schema: support for multiple geometries with different CRS</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10246">GEOS-10246</a> jdbcconfig: performance slow-down from unnecessary transactions</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10251">GEOS-10251</a> Refactor MapML vocabulary to map- custom elements HTML namespace</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10463">GEOS-10463</a> Support WCS default value for Deflate Compression</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10320">GEOS-10320</a> Support GetFeatureInfo on raster layers with transformations turning the output into vector</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10405">GEOS-10405</a> GetFeatureInfo: Support multiple featureCollections per query layer</li>
</ul>

<p>Fixes:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10226">GEOS-10226</a> ResourcePool leaves empty files on failure</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10318">GEOS-10318</a> CSV output format for complex features doesn’t resolve namespace URIs to prefixes on attributes names</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10235">GEOS-10235</a> Prevent double-quote to be specified as CSV separator</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10477">GEOS-10477</a> SLD - Validation error on Normalize-node</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10448">GEOS-10448</a> GetTimeSeries does not limit number of dates when using a time range request (without period)</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10429">GEOS-10429</a> Style validation error using the VendorOption “graphic-margin”</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10318">GEOS-10318</a> CSV output format for complex features doesn’t resolve namespace URIs to prefixes on attributes names</li>
</ul>

<p>Tasks:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10458">GEOS-10458</a> Update jai-ext to 1.1.22</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10446">GEOS-10446</a> Upgrade to commons-codec 1.15 version</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10363">GEOS-10363</a> Switch from itextpdf to openpdf for PDF map rendering</li>
</ul>

<h2 id="about-geoserver-221">About GeoServer 2.21</h2>

<p>Additional information on GeoServer 2.21 series:</p>

<ul>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-207">Feature Type Customization</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-205">Add Styles support to LayerGroup</a></li>
  <li><a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">Log4j1 update or replace activity</a></li>
</ul>

<p>Release notes: ( <a href="https://github.com/geoserver/geoserver/releases/tag/2.21-RC">2.21-RC</a> )</p>]]></content><author><name>Jody Garnett</name></author><category term="Announcements" /><category term="Release" /><summary type="html"><![CDATA[GeoServer 2.21-RC release is now available with downloads (bin, war, windows), along with docs and extensions.]]></summary></entry><entry><title type="html">GeoServer 2.18.6 Released</title><link href="/announcements/2022/04/11/geoserver-2-18-6-released.html" rel="alternate" type="text/html" title="GeoServer 2.18.6 Released" /><published>2022-04-11T00:00:00+00:00</published><updated>2022-04-11T00:00:00+00:00</updated><id>/announcements/2022/04/11/geoserver-2-18-6-released</id><content type="html" xml:base="/announcements/2022/04/11/geoserver-2-18-6-released.html"><![CDATA[<p>GeoServer <a href="/release/2.18.6/">2.18.6</a> release is now available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.18.6/geoserver-2.18.6-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.18.6/geoserver-2.18.6-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.18.6/GeoServer-2.18.6-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.18.6/geoserver-2.18.6-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.18.6/extensions/">extensions</a>.</p>

<p>This is an extra maintenance release of the 2.18.x series recommended for production systems that have not yet upgraded to 2.19. This release was made in conjunction with GeoTools 24.6.</p>

<p>Thanks to everyone who contributed, and to Andrea Aime (GeoSolutions) and Jody Garnett (GeoCat) for making this release.</p>

<h3 id="security-considerations">Security Considerations</h3>

<p>This release includes security enhancements and is a recommended upgrade for production systems.</p>

<p>This release includes two improvements addressing <a href="/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce.html">Jiffle and GeoTools RCE vulnerabilities</a>:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10458">GEOS-10458</a> Upgrade to JAI-EXT 1.1.22</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOT-7115">GEOT-7115</a> Streamline JNDI lookups</p>
  </li>
</ul>

<p>This release also includes:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10445">GEOS-10445</a> Upgrade Spring Framework from 5.1.20.RELEASE to 5.2.20.RELEASE</p>

    <p>Although GeoServer <a href="/vulnerability/2022/04/01/spring.html">assessment</a> did not identify any issue we have now updated the the spring framework library.</p>
  </li>
</ul>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10437">GEOS-10437</a> Breaking SLD 1.1 style by REST upload</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10249">GEOS-10249</a> GWC produce NPE when it comes to race condition</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10215">GEOS-10215</a> Layers nested inside a group maintain their prefix even in workspace specific services</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10213">GEOS-10213</a> WMS requests fail on LayerGroup default style names, when used in GetMap/GetFeatureInfo/GetLegendGraphics</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10200">GEOS-10200</a> GetLegendGraphic can fail if SCALE removes all rules</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10321">GEOS-10321</a> WCS 2.0 might fail to return coverages whose native BBOX goes slighly outside of the dateline</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10194">GEOS-10194</a> Improve importer LOGGING</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10335">GEOS-10335</a> Update GeoServer to a log4j version that does not support RCEs</p>
  </li>
</ul>

<p>For more information see <a href="https://github.com/geoserver/geoserver/releases/tag/2.18.6">2.18.6 release notes</a>.</p>

<h2 id="about-geoserver-218">About GeoServer 2.18</h2>

<p>Additional information on GeoServer 2.18 series:</p>

<ul>
  <li><a href="/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce.html">Jiffle and GeoTools RCE vulnerabilities</a></li>
  <li><a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4J2 zero day vulnerability assessment</a></li>
  <li>State of GeoServer 2.18 (<a href="https://docs.google.com/presentation/d/1Q0pHRUcvucAuHDeZPoeDJG4UY5izwbqo8ZawUdk9xYM/edit?usp=sharing">slides</a>)</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>GeoServer Orientation (<a href="https://t.co/fvBTLMia6f?amp=1">slides</a></td>
          <td><a href="https://youtu.be/bdkk5eVR674">video</a>)</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<p>Release Notes ( <a href="https://github.com/geoserver/geoserver/releases/tag/2.18.6">2.18.6</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16822">2.18.5</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16819">2.18.4</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16808">2.18.3</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16803">2.18.2</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16800">2.18.1</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16796">2.18.0</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16783">2.18-RC</a> )</p>]]></content><author><name>Andrea Aime</name></author><category term="Announcements" /><category term="Release" /><summary type="html"><![CDATA[GeoServer 2.18.6 release is now available with downloads (bin, war, windows), along with docs and extensions.]]></summary></entry><entry><title type="html">GeoServer 2.19.6 Released</title><link href="/announcements/2022/04/11/geoserver-2-19-6-released.html" rel="alternate" type="text/html" title="GeoServer 2.19.6 Released" /><published>2022-04-11T00:00:00+00:00</published><updated>2022-04-11T00:00:00+00:00</updated><id>/announcements/2022/04/11/geoserver-2-19-6-released</id><content type="html" xml:base="/announcements/2022/04/11/geoserver-2-19-6-released.html"><![CDATA[<p>GeoServer <a href="/release/2.19.6/">2.19.6</a> release is now available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.19.6/geoserver-2.19.6-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.19.6/geoserver-2.19.6-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.19.6/GeoServer-2.19.6-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.19.6/geoserver-2.19.6-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.19.6/extensions/">extensions</a>.</p>

<p>This is an extra maintenance release of the 2.19.x series recommended for production systems. This release was made in conjunction with GeoTools 25.6.</p>

<p>Thanks to everyone who contributed, and to Andrea Aime (GeoSolutions) for making this release.</p>

<h3 id="security-considerations">Security Considerations</h3>

<p>This release includes several security enhancements and is a recommended upgrade for production systems.</p>

<p>This release includes two improvements addressing <a href="/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce.html">Jiffle and GeoTools RCE vulnerabilities</a>:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10458">GEOS-10458</a> Upgrade to JAI-EXT 1.1.22</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOT-7115">GEOT-7115</a> Streamline JNDI lookups</p>
  </li>
</ul>

<p>This release also includes:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10445">GEOS-10445</a> Upgrade springframework from 5.1.20.RELEASE to 5.2.20.RELEASE</p>

    <p>Although GeoServer <a href="/vulnerability/2022/04/01/spring.html">assessment</a> did not identify any issue we have now updated the the spring framework library.</p>
  </li>
</ul>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<p>Fixes:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10437">GEOS-10437</a> Breaking SLD 1.1 style by REST upload</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10336">GEOS-10336</a> INSPIRE failure: version not propagated in GetCapabilities LegendURL</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-9978">GEOS-9978</a> WMS vendor parameter CLIP - ignores TIME/CQL_FILTER and other parameters when using with ImageMosaic</p>
  </li>
</ul>

<p>Tasks:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10303">GEOS-10303</a> Upgrade to jackson 2.13.2</li>
</ul>

<p>For more information see <a href="https://github.com/geoserver/geoserver/releases/tag/2.19.6">2.19.6 release notes</a>.</p>

<h2 id="about-geoserver-219">About GeoServer 2.19</h2>

<p>Additional information on GeoServer 2.19 series:</p>

<ul>
  <li><a href="/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce.html">Jiffle and GeoTools RCE vulnerabilities</a></li>
  <li><a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4J2 zero day vulnerability assessment</a></li>
  <li><a href="https://docs.geoserver.org/stable/en/user/tutorials/ GetFeatureInfo/raster.html">WMS GetFeatureInfo includes labels from ColorMap </a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-196">Promote WMTS multidim to extension</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-195">Promote WPS-Download to extension</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-194">Promote params-extractor to extension</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-193">Promote GWC-S3 to extension</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-197">Promote WPS-JDBC to extension status</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-200">Promote MapML to extension status</a></li>
  <li><a href="main-branch.html">GeoServer repository transition to main branch</a></li>
</ul>

<p>Release notes ( <a href="https://github.com/geoserver/geoserver/releases/tag/2.19.6">2.19.6</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16839">2.19.5</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16832">2.19.4</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16824">2.19.3</a>
| <a href="https://osgeo-org.atlassian.net/jira/secure/ReleaseNote.jspa? projectId=10000&amp;version=16821">2.19.2</a>
| <a href="https://osgeo-org.atlassian.net/jira/secure/ReleaseNote.jspa? projectId=10000&amp;version=16816">2.19.1</a>
| <a href="https://osgeo-org.atlassian.net/jira/secure/ReleaseNote.jspa? projectId=10000&amp;version=16814">2.19.0</a>
| <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa? projectId=10000&amp;version=16766">2.19-RC</a> )</p>]]></content><author><name>Andrea Aime</name></author><category term="Announcements" /><category term="Release" /><summary type="html"><![CDATA[GeoServer 2.19.6 release is now available with downloads (bin, war, windows), along with docs and extensions.]]></summary></entry><entry><title type="html">GeoServer 2.20.4 Released</title><link href="/announcements/vulnerability/2022/04/11/geoserver-2-20-4-released.html" rel="alternate" type="text/html" title="GeoServer 2.20.4 Released" /><published>2022-04-11T00:00:00+00:00</published><updated>2022-04-11T00:00:00+00:00</updated><id>/announcements/vulnerability/2022/04/11/geoserver-2-20-4-released</id><content type="html" xml:base="/announcements/vulnerability/2022/04/11/geoserver-2-20-4-released.html"><![CDATA[<p>GeoServer <a href="/release/2.20.4/">2.20.4</a> release is now available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.4/geoserver-2.20.4-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.4/geoserver-2.20.4-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.4/GeoServer-2.20.4-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.4/geoserver-2.20.4-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.4/extensions/">extensions</a>.</p>

<p>This is a stable release of the 2.20.x series recommended for production systems. This release was made in conjunction with GeoTools 26.4.</p>

<p>Thanks to everyone who contributed, and to Andrea Aime (GeoSolutions) and Jody Garnett (GeoCat) for making this release.</p>

<h3 id="security-considerations">Security Considerations</h3>

<p>This release includes several security enhancements and is a recommended upgrade for production systems.</p>

<p>This release includes two improvements addressing <a href="/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce.html">Jiffle and GeoTools RCE vulnerabilities</a>:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10458">GEOS-10458</a> Upgrade to JAI-EXT 1.1.22</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOT-7115">GEOT-7115</a> Streamline JNDI lookups</p>
  </li>
</ul>

<p>This release also includes:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10445">GEOS-10445</a> Upgrade springframework from 5.1.20.RELEASE to 5.2.20.RELEASE</p>

    <p>Although GeoServer <a href="/vulnerability/2022/04/01/spring.html">assessment</a> did not identify any issue we have now updated the the spring framework library.</p>
  </li>
</ul>

<h3 id="add-styles-support-to-layergroup">Add Styles support to LayerGroup</h3>

<p>Allows layer group (layer mode <code class="language-plaintext highlighter-rouge">SINGLE</code> or <code class="language-plaintext highlighter-rouge">OPAQUE</code>) list alternate styles in addition to the default one. Each alternate style is
defined by a named configuration of layers and styles providing a unique visual representation.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10252">GEOS-10252</a> Add Styles support to LayerGroup</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10274">GEOS-10274</a> Geofence follow up LayerGroup Style addition</li>
</ul>

<p>For more information see <a href="https://github.com/geoserver/geoserver/wiki/GSIP-205">GSIP-205 Add Styles support to LayerGroup</a> proposa.</p>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<p>Improvements:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10434">GEOS-10434</a> Externalized GeoServer environment properties</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10427">GEOS-10427</a> Improve access check in ImportProcess</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10409">GEOS-10409</a> Improve deletion of WPS Execute input temp files</p>
  </li>
</ul>

<p>Fixes:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10437">GEOS-10437</a> Breaking SLD 1.1 style by REST upload</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10419">GEOS-10419</a> NullPointerException from GeoServerOAuthAuthenticationFilter</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10418">GEOS-10418</a> Bad request sent to GeoFence when matching roles only</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10401">GEOS-10401</a> WPS GetExecutionResult doesn’t validate the mimetype parameter</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10400">GEOS-10400</a> Disabling WMS dynamic styling does not affect GetLegendGraphic requests</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10393">GEOS-10393</a> WFS-T deletes the wrong features (and further BatchManager issues)</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-9978">GEOS-9978</a> WMS vendor parameter CLIP - ignores TIME/CQL_FILTER and other parameters when using with ImageMosaic</p>
  </li>
</ul>

<p>Tasks:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10445">GEOS-10445</a> Upgrade springframework from 5.1.20.RELEASE to 5.2.20.RELEASE</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10303">GEOS-10303</a> Upgrade to jackson 2.13.2</p>
  </li>
</ul>

<p>For more information see <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.4">2.20.4 release notes</a>.</p>

<h2 id="about-geoserver-220">About GeoServer 2.20</h2>

<p>Additional information on GeoServer 2.20 series:</p>

<ul>
  <li><a href="/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce.html">Jiffle and GeoTools RCE vulnerabilities</a></li>
  <li><a href="/vulnerability/2022/04/01/spring.html">Spring RCE Spring4Shell CVE-2022-22965 assessment</a></li>
  <li><a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4J2 zero day vulnerability assessment</a></li>
  <li><a href="https://docs.geoserver.org/latest/en/user/services/internationalization/index.html">Internationalization of title and abstract</a></li>
  <li><a href="https://docs.google.com/presentation/d/19Cmld0_VFePh1g4qUSfqNWWB0t-teClFpT3eUqpYGos/edit?usp=sharing">State of GeoServer 2.20 edition</a></li>
  <li><a href="https://docs.geoserver.org/stable/en/user/installation/win_installer.html">Windows Installer</a></li>
</ul>

<p>Release notes: ( <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.4">2.20.4</a>
| <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.3">2.20.3</a>
| <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.2">2.20.2</a>
| <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.1">2.20.1</a>
| <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.0">2.20.0</a>
| <a href="https://github.com/geoserver/geoserver/releases/tag/2.20-RC">2.20-RC</a> )</p>]]></content><author><name>Andrea Aime</name></author><category term="Announcements" /><category term="Vulnerability" /><category term="Release" /><summary type="html"><![CDATA[GeoServer 2.20.4 release is now available with downloads (bin, war, windows), along with docs and extensions.]]></summary></entry><entry><title type="html">Jiffle and GeoTools RCE vulnerabilities</title><link href="/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce.html" rel="alternate" type="text/html" title="Jiffle and GeoTools RCE vulnerabilities" /><published>2022-04-11T00:00:00+00:00</published><updated>2022-04-11T00:00:00+00:00</updated><id>/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce</id><content type="html" xml:base="/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce.html"><![CDATA[<p>A few critical vulnerabilities have been located in the GeoServer ecosystem that 
allow Remote Code Execution. This article describes the vulnerabilities, their mitigation,
and links to patched versions of the various projects involved.</p>

<p>All the issues described in this post have been patched in:</p>

<ul>
  <li>GeoServer <a href="/release/2.20.4/">2.20.4</a>, <a href="/release/2.19.6/">2.19.6</a> or <a href="/release/2.198.6/">2.18.6</a></li>
  <li>GeoWebCache <a href="https://sourceforge.net/projects/geowebcache/files/geowebcache/1.20.2/">1.20.2</a>, <a href="https://sourceforge.net/projects/geowebcache/files/geowebcache/1.19.3/">1.19.3</a> or <a href="https://sourceforge.net/projects/geowebcache/files/geowebcache/1.18.5/">1.18.5</a></li>
  <li>GeoTools <a href="https://sourceforge.net/projects/geotools/files/GeoTools%2026%20Releases/26.4/">26.4</a>, <a href="https://sourceforge.net/projects/geotools/files/GeoTools%2025%20Releases/25.6/">25.6</a> or <a href="https://sourceforge.net/projects/geotools/files/GeoTools%2025%20Releases/24.6/">24.6</a></li>
  <li>JAI-EXT <a href="https://github.com/geosolutions-it/jai-ext/releases/tag/1.1.22">1.1.22</a></li>
</ul>

<p>The rest of the POST describes the issues and their mitigation.</p>

<h2 id="rce-in-jiffle">RCE in Jiffle</h2>

<p>The Jiffle map algebra language, provided by jai-ext, allows efficiently execute map algebra over large images.
A vulnerability has been recently found in Jiffle, that allows a Code Injection to be performed by properly crafting a Jiffle invocation.</p>

<p>In the case of GeoServer, the injection can be performed from a remote request.</p>

<h3 id="assessment">Assessment</h3>

<p><strong>GeoTools</strong> includes the Jiffle language as part of the <code class="language-plaintext highlighter-rouge">gt-process-raster-&lt;version&gt;</code> module, applications
using it should check whether it’s possible to provide a Jiffle script from remote, and if so, upgrade
or remove the functionality (see also the GeoServer mitigation, below).</p>

<p><strong>Stand-alone GeoWebCache</strong> is not affected, as it does not include Jiffle support.</p>

<p>The issue is of particular interest for <strong>GeoServer</strong> users, as GeoServer embeds Jiffle in the base WAR
package. Jiffle is available as a OGC function, for usage in SLD rendering transformations.</p>

<p>This allows for a Remote Code Execution in properly crafted OGC requests, as well as from the
administration console, when editing SLD files.</p>

<h3 id="mitigations">Mitigations</h3>

<p>In case you cannot upgrade at once, then the following mitigation is strongly recommended:</p>

<ol>
  <li>Stop GeoServer</li>
  <li>Open the war file, get into <code class="language-plaintext highlighter-rouge">WEB-INF/lib</code> and remove the <code class="language-plaintext highlighter-rouge">janino-&lt;version&gt;.jar</code></li>
  <li>Restart GeoServer.</li>
</ol>

<p>This effectively removes the Jiffle ability to compile scripts in Java code, from any of the potential
attack vectors (Janino is the library used to turn the Java code generated from the Jiffle script,
into executable bytecode).</p>

<p>GeoServer should still work properly after the removal, but any attempt to use Jiffle will result in an exception.</p>

<h3 id="resolution">Resolution</h3>

<p>Issue:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10458">GEOS-10458</a> Upgrade to JAI-EXT 1.1.22</li>
</ul>

<h2 id="rce-in-jndi-lookups">RCE in JNDI lookups</h2>

<p>The GeoTools data stores, as well as the disk quota mechanism of GeoWebCache, and the JDBC user/role
providers for GeoServer can all fetch connection pools from JNDI.</p>

<p>A properly crafted JNDI source name can cause uncontrolled deserialization of classes and eventually
a Remote Code Execution, in a way similar to Log4Shell. However, unlike Log4Shell, it requires the
administrator to enter these strings.</p>

<h3 id="mitigations-1">Mitigations</h3>

<p>In terms of mitigation, <strong>GeoTools</strong> users should make sure the JNDI strings given to stores cannot
be provided from remote, or external parties, without validation.</p>

<p><strong>Stand-alone GeoWebCache</strong> users must now allow external or remote users to change the 
disk quota XML configuration files, guarding both local file system access, and the REST
configuration API. The REST API can only be accessed authenticating as administrator, 
good practices in this regard involve:</p>
<ul>
  <li>Disallowing remote access to the “/rest” endpoint in a GeoWebCache installation</li>
  <li>Rotating the administrator passwords.</li>
</ul>

<p>GeoServer is affected though the Web administration interface and the REST configuration API,
both of which require an administrator login to be used in order to setup JNDI connection strings.
In order to mitigate the issue:</p>
<ul>
  <li>Disallow remote access to the “/rest” and “/web” endpoints in a GeoServer installation.</li>
  <li>Change/rotate the administrator passwords.</li>
</ul>

<h3 id="resolution-1">Resolution</h3>

<p>The following issues have been resolved, and patched releases are available.</p>

<p>Issue:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOT-7115">GEOT-7115</a> Streamline JNDI lookups</li>
</ul>

<p>Thanks to Andrea Aime (GeoSolutions) for working so hard on this fix.</p>

<h2 id="springshell">SpringShell</h2>

<p>Both GeoServer and GeoWebCache use Spring MVC, for REST API controllers in both projects,
and for the OGC API, GSR and taskmanager community  modules, in GeoServer.
The projects are commonly deployed as WAR files in Tomcat, with a fair amount of deploys
using Java 11 and above.</p>

<p>This sets up both projects for exploit via the <a href="https://spring.io/blog/2022/03/31/spring-framework-rce-early-announcement">SpringShell vulnerability</a>.
however we <a href="/vulnerability/2022/04/01/spring.html">looked</a>, and could not find an actual attack vector.</p>

<p>This release train updates to newer a version of spring-framework that patched this potential issue.</p>

<h3 id="mitigations-2">Mitigations</h3>

<p>For those that cannot upgrade, the recommended mitigations are:</p>
<ul>
  <li>Run GeoServer and GeoWebCache on Java 8 instead, which is not vulnerable to the issue.</li>
  <li>Upgrade Tomcat to <a href="https://spring.io/blog/2022/04/01/spring-framework-rce-mitigation-alternative">the releases that patched the attack vector</a>, either 9.0.62 or 8.5.78 (don’t try to use Tomcat 10.x, GeoServer cannot run on it due to incompatible J2EE libraries).</li>
  <li>For extra security, limit access to the REST API, and remove community modules providing new service endpoints (OGC API, GSR, taskmanager).</li>
</ul>

<h3 id="resolution-2">Resolution</h3>

<p>Although GeoServer <a href="/vulnerability/2022/04/01/spring.html">assessment</a> did not identify any issue
we have now updated the the spring framework library.</p>

<p>Issue:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10445">GEOS-10445</a> Upgrade springframework from
5.1.20.RELEASE to 5.2.20.RELEASE</li>
</ul>

<p>Thanks to Gabriel Roldan (camptocamp) for troubleshooting and performing this spring-framework update.</p>]]></content><author><name>Andrea Aime</name></author><category term="Vulnerability" /><summary type="html"><![CDATA[A few critical vulnerabilities have been located in the GeoServer ecosystem that allow Remote Code Execution. This article describes the vulnerabilities, their mitigation, and links to patched versions of the various projects involved.]]></summary></entry><entry><title type="html">Spring4Shell RCE vulnerability</title><link href="/vulnerability/2022/04/01/spring.html" rel="alternate" type="text/html" title="Spring4Shell RCE vulnerability" /><published>2022-04-01T00:00:00+00:00</published><updated>2022-04-01T00:00:00+00:00</updated><id>/vulnerability/2022/04/01/spring</id><content type="html" xml:base="/vulnerability/2022/04/01/spring.html"><![CDATA[<p>A vulnerability has located in the Spring Framework  ecosystem that 
allow Remote Code Execution. This article describes the vulnerability, assessment, mitigation,
and links to patched versions of the various projects involved.</p>

<p>Please do not contact us asking about this vulnerability unless you are <strong>reporting an actual
demonstration of the problem</strong> in a GeoServer installation or are offering to assist
in the upgrade process with developer time or money.</p>

<p>If you wish to report a security vulnerability, see instructions on <a href="http://geoserver.org/issues/">responsible reporting</a>.
We also welcome <a href="https://github.com/geoserver/geoserver/wiki/Sponsor">your direct financial support</a>.</p>

<h1 id="spring4shell-cve-2022-22965">Spring4Shell (CVE-2022-22965)</h1>

<p>A recently discovered vulnerability in the Spring 
(<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-22965">CVE-2022-22965</a>) has been reported as 
affecting systems running Java 9+.</p>

<p><strong>Note</strong> systems using Java 8 are not thought to be vulnerable at this time.</p>

<h2 id="assessment">Assessment</h2>

<p>Both GeoServer and GeoWebCache use Spring MVC, for REST API controllers in both projects,
and for the OGC API, GSR and taskmanager community  modules, in GeoServer.
The projects are commonly deployed as WAR files in Tomcat, with a fair amount of deploys
using Java 11 and above.</p>

<p>This sets up both projects for exploit on the <a href="https://spring.io/blog/2022/03/31/spring-framework-rce-early-announcement">SpringShell vulnerability</a>.</p>

<p>We looked , and <strong>could not find an actual attack vector yet</strong>, but have scheduled a release that contains
a spring-framework update that patches the potential issue.</p>

<h2 id="mitigation">Mitigation</h2>

<p>For those that cannot upgrade, the recommended mitigations are:</p>
<ul>
  <li>Run GeoServer and GeoWebCache on Java 8 instead, which is not vulnerable to the issue.</li>
  <li>Upgrade Tomcat to <a href="https://spring.io/blog/2022/04/01/spring-framework-rce-mitigation-alternative">the releases that patched the attack vector</a>, either 9.0.62 or 8.5.78 (don’t try to use Tomcat 10.x, GeoServer cannot run on it due to incompatible J2EE libraries).</li>
  <li>For extra security, limit access to the REST API, and remove community modules providing new service endpoints (OGC API, GSR, taskmanager).</li>
</ul>

<h2 id="resolution">Resolution</h2>

<p>We are working on upgrading to a patched version of the spring framework library and will post an
update when that work is complete.</p>

<p>Issue:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10445">GEOS-10445</a> Upgrade springframework from
5.1.20.RELEASE to 5.2.20.RELEASE</li>
</ul>

<p>Patched releases:</p>

<ul>
  <li>We have now updated the the spring framework library used, please upgrade to
 <a href="/announcements/vulnerability/2022/04/11/geoserver-2-20-4-released.html">GeoServer 2.20.4</a> stable release,
 or <a href="/announcements/2022/04/11/geoserver-2-19-6-released.html">GeoServer 2.19.6</a> maintenance release.</li>
</ul>

<p>Thanks to everyone who reported this issue, Andrea Aime (GeoSolutions) for initial assessment,
and to Gabriel Roldan (camptocamp) for troubleshooting and performing this spring-framework update.</p>]]></content><author><name>Ian Turton</name></author><category term="Vulnerability" /><summary type="html"><![CDATA[A vulnerability has located in the Spring Framework ecosystem that allow Remote Code Execution. This article describes the vulnerability, assessment, mitigation, and links to patched versions of the various projects involved.]]></summary></entry><entry><title type="html">GeoServer 2.19.5 Released</title><link href="/announcements/vulnerability/2022/03/08/geoserver-2-19-5-released.html" rel="alternate" type="text/html" title="GeoServer 2.19.5 Released" /><published>2022-03-08T00:00:00+00:00</published><updated>2022-03-08T00:00:00+00:00</updated><id>/announcements/vulnerability/2022/03/08/geoserver-2-19-5-released</id><content type="html" xml:base="/announcements/vulnerability/2022/03/08/geoserver-2-19-5-released.html"><![CDATA[<p>The GeoServer team are happy to announce GeoServer
<a href="/release/2.19.5/">2.19.5</a> release is available for download
(<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.19.5/geoserver-2.19.4-bin.zip/download">zip</a>
and
<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.19.5/geoserver-2.19.4-war.zip/download">war</a>)
along with
<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.19.5/geoserver-2.19.4-htmldoc.zip/download">docs</a>
and
<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.19.5/extensions/">extensions</a>.</p>

<p>This GeoServer 2.19.5 release was produced in conjunction with GeoTools 25.5 and GeoWebCache 1.19.2, this is a maintenance release recommended for production systems.</p>

<p>Thanks to everyone who contributed, and to Ian Turton (Astun Technology) for making this release.</p>

<h3 id="security-considerations">Security Considerations</h3>

<p>This release includes several security enhancements and is a recommended update for production systems.</p>

<p>This release includes two improvements limiting Server-side request forgery (SSRF) opportunities:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10389">GEOS-10389</a> Introduce <code class="language-plaintext highlighter-rouge">ENTITY_RESOLUTION_ALLOWLIST</code> parameter to further restrict external entity resolution.</p>

    <p>See the user guide on <a href="https://docs.geoserver.org/latest/en/user/production/config.html#production-config-external-entities">external entities resolution</a> for instructions on use. Keep in mind that the application schema plugin requires external entity resolution to local files be available. The global setting required by application schema has been renamed to <a href="https://docs.geoserver.org/latest/en/user/configuration/globalsettings.html#config-globalsettings-external-entities">Unrestricted XML External Entity Resolution</a>.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10384">GEOS-10384</a> Change GetMap to URIKvpParser.</p>

    <p>This improvement is used in conjunction with WMS dynamic styling setting <a href="https://docs.geoserver.org/latest/en/user/services/wms/webadmin.html#disabling-usage-of-dynamic-styling-in-getmap-and-getfeatureinfo-requests">disabling of SLD and SLD_BODY parameters</a>. By handling SLD and SLD_BODY as URI values we can avoid a <a href="https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4434494">well-known java side-effect</a> when comparing URL values.</p>
  </li>
</ul>

<p>We would like to thank GeoCat for addressing these two issues on behalf of Fisheries and Oceans Canada. If you wish to report a security vulnerability, please visit our website for <a href="http://geoserver.org/issues/">instructions on responsible reporting</a>.</p>

<h2 id="improvements-and-fixes">Improvements and Fixes</h2>

<p>Fixes:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-9785">GEOS-9785</a> Invalid argument type=null when trying to use gs:Download WPS identifier</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-9770">GEOS-9770</a> Cascading WMS server sets invalid I and J when using EPSG:3006 on GetFeatureInfo calls</li>
</ul>

<h2 id="about-geoserver-219">About GeoServer 2.19</h2>

<p>Additional information on GeoServer 2.19 series:</p>

<ul>
  <li><a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4J2 zero day vulnerability assessment</a></li>
  <li><a href="https://docs.geoserver.org/stable/en/user/tutorials/ GetFeatureInfo/raster.html">WMS GetFeatureInfo includes labels from ColorMap </a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-196">Promote WMTS multidim to extension</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-195">Promote WPS-Download to extension</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-194">Promote params-extractor to extension</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-193">Promote GWC-S3 to extension</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-197">Promote WPS-JDBC to extension status</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-200">Promote MapML to extension status</a></li>
  <li><a href="main-branch.html">GeoServer repository transition to main branch</a></li>
</ul>

<p>Release notes ( <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16839">2.19.5</a> | <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16832">2.19.4</a> | <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa?projectId=10000&amp;version=16824">2.19.3</a> | <a href="https://osgeo-org.atlassian.net/jira/secure/ReleaseNote.jspa? projectId=10000&amp;version=16821">2.19.2</a>| <a href="https://osgeo-org.atlassian.net/jira/secure/ReleaseNote.jspa? projectId=10000&amp;version=16816">2.19.1</a> | <a href="https://osgeo-org.atlassian.net/jira/secure/ReleaseNote.jspa? projectId=10000&amp;version=16814">2.19.0</a> | <a href="https://osgeo-org.atlassian.net/secure/ReleaseNote.jspa? projectId=10000&amp;version=16766">2.19-RC</a> )</p>]]></content><author><name>Ian Turton</name></author><category term="Announcements" /><category term="Vulnerability" /><category term="Release" /><summary type="html"><![CDATA[The GeoServer team are happy to announce GeoServer 2.19.5 release is available for download (zip and war) along with docs and extensions. This GeoServer 2.19.5 release was produced in conjunction with GeoTools 25.5 and GeoWebCache 1.19.2, this is a maintenance release recommended for production systems. Thanks to everyone who contributed, and to Ian Turton (Astun Technology) for making this release.]]></summary></entry><entry><title type="html">GeoServer 2.20.3 Released</title><link href="/announcements/vulnerability/2022/03/08/geoserver-2-20-3-released.html" rel="alternate" type="text/html" title="GeoServer 2.20.3 Released" /><published>2022-03-08T00:00:00+00:00</published><updated>2022-03-08T00:00:00+00:00</updated><id>/announcements/vulnerability/2022/03/08/geoserver-2-20-3-released</id><content type="html" xml:base="/announcements/vulnerability/2022/03/08/geoserver-2-20-3-released.html"><![CDATA[<p>GeoServer <a href="/release/2.20.3/">2.20.3</a> release is now available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.3/geoserver-2.20.3-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.3/geoserver-2.20.3-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.3/GeoServer-2.20.3-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.3/geoserver-2.20.3-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.3/extensions/">extensions</a>.</p>

<p>This is a stable release of the 2.20.x series recommended for production systems. This release was made in conjunction with GeoTools 26.3.</p>

<p>Thanks to everyone who contributed, and to Jody Garnett (GeoCat) for making this release.</p>

<h3 id="security-considerations">Security Considerations</h3>

<p>This release includes several security enhancements and is a recommended upgrade for production systems.</p>

<p>This release includes two improvements limiting Server-side request forgery (SSRF) opportunities:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10389">GEOS-10389</a> Introduce <code class="language-plaintext highlighter-rouge">ENTITY_RESOLUTION_ALLOWLIST</code> parameter to further restrict external entity resolution.</p>

    <p>See the user guide on <a href="https://docs.geoserver.org/latest/en/user/production/config.html#production-config-external-entities">external entities resolution</a> for instructions on use. Keep in mind that the application schema plugin requires external entity resolution to local files be available. The global setting required by application schema has been renamed to <a href="https://docs.geoserver.org/latest/en/user/configuration/globalsettings.html#config-globalsettings-external-entities">Unrestricted XML External Entity Resolution</a>.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10384">GEOS-10384</a> Change GetMap to URIKvpParser.</p>

    <p>This improvement is used in conjunction with WMS dynamic styling setting <a href="https://docs.geoserver.org/latest/en/user/services/wms/webadmin.html#disabling-usage-of-dynamic-styling-in-getmap-and-getfeatureinfo-requests">disabling of SLD and SLD_BODY parameters</a>. By handling SLD and SLD_BODY as URI values we can avoid a <a href="https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4434494">well-known java side-effect</a> when comparing URL values.</p>
  </li>
</ul>

<p>We would like to thank GeoCat for addressing these two issues on behalf of Fisheries and Oceans Canada. If you wish to report a security vulnerability, please visit our website for <a href="http://geoserver.org/issues/">instructions on responsible reporting</a>.</p>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<p>Improvements:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10367">GEOS-10367</a> Allow GetTimeSeries to have a maximum times limit separate than WMS max dimensions</li>
</ul>

<p>Fixes:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10379">GEOS-10379</a> WCS 2.0 requested ScaleSize not being respected when crossing the dateline</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10377">GEOS-10377</a> Layers and Layer Groups get default abstract in capabilities document when none set in configuration.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10373">GEOS-10373</a> GetTimeSeries does not work on source data with time ranges</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10362">GEOS-10362</a> Username remains in roles.xml after user removal operation</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10316">GEOS-10316</a> Regression in 2.20.x: Unable to specify JAVA_OPTS for startup.sh</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10066">GEOS-10066</a> CSS ArrayList class cast exception in layer rendering</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-9785">GEOS-9785</a> Invalid argument type=null when trying to use gs:Download WPS identifier</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-9770">GEOS-9770</a> Cascading WMS server sets invalid I and J when using EPSG:3006 on GetFeatureInfo calls</p>
  </li>
</ul>

<p>For more information see <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.3">2.20.3 release notes</a>.</p>

<h2 id="about-geoserver-220">About GeoServer 2.20</h2>

<p>Additional information on GeoServer 2.20 series:</p>

<ul>
  <li><a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4J2 zero day vulnerability assessment</a></li>
  <li><a href="https://docs.geoserver.org/latest/en/user/services/internationalization/index.html">Internationalization of title and abstract</a></li>
  <li><a href="https://docs.google.com/presentation/d/19Cmld0_VFePh1g4qUSfqNWWB0t-teClFpT3eUqpYGos/edit?usp=sharing">State of GeoServer 2.20 edition</a></li>
  <li><a href="https://docs.geoserver.org/stable/en/user/installation/win_installer.html">Windows Installer</a></li>
</ul>

<p>Release notes: ( <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.3">2.20.3</a> | <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.2">2.20.2</a> | <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.1">2.20.1</a> | <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.0">2.20.0</a> | <a href="https://github.com/geoserver/geoserver/releases/tag/2.20-RC">2.20-RC</a> )</p>]]></content><author><name>Jody Garnett</name></author><category term="Announcements" /><category term="Vulnerability" /><category term="Release" /><summary type="html"><![CDATA[GeoServer 2.20.3 release is now available with downloads (bin, war, windows), along with docs and extensions.]]></summary></entry><entry><title type="html">GeoServer 2.20.2 Released</title><link href="/announcements/2022/01/24/geoserver-2-20-2-released.html" rel="alternate" type="text/html" title="GeoServer 2.20.2 Released" /><published>2022-01-24T00:00:00+00:00</published><updated>2022-01-24T00:00:00+00:00</updated><id>/announcements/2022/01/24/geoserver-2-20-2-released</id><content type="html" xml:base="/announcements/2022/01/24/geoserver-2-20-2-released.html"><![CDATA[<p>We are happy to announce GeoServer <a href="/release/2.20.2/">2.20.2</a> release is available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.2/geoserver-2.20.2-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.2/geoserver-2.20.2-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.2/GeoServer-2.20.2-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.2/geoserver-2.20.2-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.2/extensions/">extensions</a>.</p>

<p>This is a stable release of the 2.20.x series recommended for production systems. This release was made in conjunction with GeoTools 26.2 and GeoWebCache 1.20.1.</p>

<h3 id="security-considerations">Security Considerations</h3>

<p>This release includes several security enhancements and is a recommended upgrade for production systems:</p>

<ul>
  <li>
    <p>GeoServer uses the earlier log4j1 library and is not subject to the Log4j2 remote code execution vulnerabilities reported worldwide. For a detailed discussion please read <a href="/vulnerability/2021/12/13/logj4-rce-statement.html">GeoServer Log4J2 zero day vulnerability assessment</a>.</p>

    <p>The release of GeoServer includes a patched version of log4j1 which does not include any remote loggers or socket communication.</p>
  </li>
</ul>

<p>If you wish to report a security vulnerability, please visit our website for <a href="http://geoserver.org/issues/">instructions on responsible reporting</a>.</p>

<h3 id="mark-factory-precedence">Mark Factory Precedence</h3>

<p>When rendering maps with lots of individual graphics, looking up the correct implementation (known as a MarkFactory) can be time consuming.</p>

<p>WMS Settings have new capability to filter out any mark factories not being used, and provide an order to prioritise the ones being used.</p>

<p>For more information see <a href="https://docs.geoserver.org/stable/en/user/services/wms/webadmin.html#mark-factory-precedence">WMS Web Administration</a> (user guide).</p>

<h3 id="source-code">Source Code</h3>

<p>For developers building from source, we have committed a <code class="language-plaintext highlighter-rouge">.gitattributes</code> file to help preserve consistent line encoding across our repository.</p>

<p>With this change it is no longer necessary to set your global configuration to <code class="language-plaintext highlighter-rouge">core.autocrlf=input</code>.</p>

<p>Use <code class="language-plaintext highlighter-rouge">git reset</code> as outlined below if encounter difficulty updating your checkout:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull --rebase
git reset --hard
</code></pre></div></div>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<ul>
  <li>WMS rendering preserves region of interest when clipping working with palette based images</li>
  <li>Importer improvements to better report failed imports and clean up stale importer contents</li>
  <li>WCS return coverages whose native BBOX are slightly outside of the dateline</li>
  <li>Reduce the CPU load of returning Server Status information using OSHI on windows</li>
</ul>

<p>For more information see <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.2">2.20.2 release notes</a>.</p>

<h2 id="about-geoserver-220">About GeoServer 2.20</h2>

<p>Additional information on GeoServer 2.20 series:</p>

<ul>
  <li><a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4J2 zero day vulnerability assessment</a></li>
  <li><a href="https://docs.geoserver.org/latest/en/user/services/internationalization/index.html">Internationalization of title and abstract</a></li>
  <li><a href="https://docs.google.com/presentation/d/19Cmld0_VFePh1g4qUSfqNWWB0t-teClFpT3eUqpYGos/edit?usp=sharing">State of GeoServer 2.20 edition</a></li>
  <li><a href="https://docs.geoserver.org/stable/en/user/installation/win_installer.html">Windows Installer</a></li>
</ul>

<p>Release notes: ( <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.2">2.20.2</a> | <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.1">2.20.1</a> | <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.0">2.20.0</a> | <a href="https://github.com/geoserver/geoserver/releases/tag/2.20-RC">2.20-RC</a> )</p>]]></content><author><name>Jody Garnett</name></author><category term="Announcements" /><category term="Release" /><category term="Vulnerability" /><summary type="html"><![CDATA[We are happy to announce GeoServer 2.20.2 release is available with downloads (bin, war, windows), along with docs and extensions.]]></summary></entry></feed>